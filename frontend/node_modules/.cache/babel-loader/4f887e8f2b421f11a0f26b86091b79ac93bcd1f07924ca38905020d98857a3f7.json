{"ast":null,"code":"var _jsxFileName = \"/root/Projects/linecheck/frontend/src/components/RegionSelector.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegionSelector = ({\n  firstFrameUrl,\n  handleGridSelection\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    videoId\n  } = useParams();\n  const [selectedSquaresStack, setSelectedSquaresStack] = useState([]);\n  const [selectedSquaresHoleCards, setSelectedSquaresHoleCards] = useState([]);\n  const [currentMode, setCurrentMode] = useState(\"Stack\"); // Initial mode is \"Stack\"\n\n  const handleSquareClick = squareIndex => {\n    if (currentMode === \"Stack\") {\n      if (selectedSquaresStack.includes(squareIndex)) {\n        setSelectedSquaresStack(selectedSquaresStack.filter(index => index !== squareIndex));\n      } else {\n        setSelectedSquaresStack([...selectedSquaresStack, squareIndex]);\n      }\n    } else if (currentMode === \"HoleCards\") {\n      if (selectedSquaresHoleCards.includes(squareIndex)) {\n        setSelectedSquaresHoleCards(selectedSquaresHoleCards.filter(index => index !== squareIndex));\n      } else {\n        setSelectedSquaresHoleCards([...selectedSquaresHoleCards, squareIndex]);\n      }\n    }\n  };\n  const handleSubmit = () => {\n    let selectedSquares;\n    if (currentMode === \"Stack\") {\n      selectedSquares = selectedSquaresStack;\n    } else if (currentMode === \"HoleCards\") {\n      selectedSquares = selectedSquaresHoleCards;\n    }\n    if (selectedSquares.length > 0) {\n      handleGridSelection(selectedSquares, currentMode); // Pass mode to the handler\n      navigate(`/data/${videoId}`);\n    } else {\n      alert('Please select at least one square.');\n    }\n  };\n  const handleModeChange = mode => {\n    setCurrentMode(mode);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"region-selector\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Select Regions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleModeChange(\"Stack\"),\n      children: \"Select Stack\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleModeChange(\"HoleCards\"),\n      children: \"Select Hole Cards\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageDisplay, {\n      firstFrameUrl: firstFrameUrl,\n      selectedSquares: currentMode === \"Stack\" ? selectedSquaresStack : selectedSquaresHoleCards,\n      onSquareClick: handleSquareClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"submit-button\",\n      disabled: currentMode === \"Stack\" && selectedSquaresStack.length === 0 || currentMode === \"HoleCards\" && selectedSquaresHoleCards.length === 0,\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(RegionSelector, \"O3DIxwtoHXf0DEejYLpg6lS98kc=\", true);\n_c = RegionSelector;\nexport default RegionSelector;\nvar _c;\n$RefreshReg$(_c, \"RegionSelector\");","map":{"version":3,"names":["RegionSelector","firstFrameUrl","handleGridSelection","_s","navigate","useNavigate","videoId","useParams","selectedSquaresStack","setSelectedSquaresStack","useState","selectedSquaresHoleCards","setSelectedSquaresHoleCards","currentMode","setCurrentMode","handleSquareClick","squareIndex","includes","filter","index","handleSubmit","selectedSquares","length","alert","handleModeChange","mode","_jsxDEV","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ImageDisplay","onSquareClick","disabled","_c","$RefreshReg$"],"sources":["/root/Projects/linecheck/frontend/src/components/RegionSelector.js"],"sourcesContent":["const RegionSelector = ({ firstFrameUrl, handleGridSelection }) => {\n  const navigate = useNavigate();\n\n  const { videoId } = useParams();\n\n  const [selectedSquaresStack, setSelectedSquaresStack] = useState([]);\n  const [selectedSquaresHoleCards, setSelectedSquaresHoleCards] = useState([]);\n  const [currentMode, setCurrentMode] = useState(\"Stack\"); // Initial mode is \"Stack\"\n\n  const handleSquareClick = (squareIndex) => {\n    if (currentMode === \"Stack\") {\n      if (selectedSquaresStack.includes(squareIndex)) {\n        setSelectedSquaresStack(selectedSquaresStack.filter(index => index !== squareIndex));\n      } else {\n        setSelectedSquaresStack([...selectedSquaresStack, squareIndex]);\n      }\n    } else if (currentMode === \"HoleCards\") {\n      if (selectedSquaresHoleCards.includes(squareIndex)) {\n        setSelectedSquaresHoleCards(selectedSquaresHoleCards.filter(index => index !== squareIndex));\n      } else {\n        setSelectedSquaresHoleCards([...selectedSquaresHoleCards, squareIndex]);\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    let selectedSquares;\n    if (currentMode === \"Stack\") {\n      selectedSquares = selectedSquaresStack;\n    } else if (currentMode === \"HoleCards\") {\n      selectedSquares = selectedSquaresHoleCards;\n    }\n\n    if (selectedSquares.length > 0) {\n      handleGridSelection(selectedSquares, currentMode); // Pass mode to the handler\n      navigate(`/data/${videoId}`);\n    } else {\n      alert('Please select at least one square.');\n    }\n  };\n\n  const handleModeChange = (mode) => {\n    setCurrentMode(mode);\n  };\n\n  return (\n    <div className=\"region-selector\">\n      <h3>Select Regions</h3>\n      <button onClick={() => handleModeChange(\"Stack\")}>Select Stack</button>\n      <button onClick={() => handleModeChange(\"HoleCards\")}>Select Hole Cards</button>\n      <ImageDisplay\n        firstFrameUrl={firstFrameUrl}\n        selectedSquares={\n          currentMode === \"Stack\" ? selectedSquaresStack : selectedSquaresHoleCards\n        }\n        onSquareClick={handleSquareClick}\n      />\n      <button\n        className=\"submit-button\"\n        disabled={\n          (currentMode === \"Stack\" && selectedSquaresStack.length === 0) ||\n          (currentMode === \"HoleCards\" && selectedSquaresHoleCards.length === 0)\n        }\n        onClick={handleSubmit}\n      >\n        Submit\n      </button>\n    </div>\n  );\n};\n\nexport default RegionSelector;\n"],"mappings":";;;AAAA,MAAMA,cAAc,GAAGA,CAAC;EAAEC,aAAa;EAAEC;AAAoB,CAAC,KAAK;EAAAC,EAAA;EACjE,MAAMC,QAAQ,GAAGC,WAAW,CAAC,CAAC;EAE9B,MAAM;IAAEC;EAAQ,CAAC,GAAGC,SAAS,CAAC,CAAC;EAE/B,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGC,QAAQ,CAAC,EAAE,CAAC;EACpE,MAAM,CAACC,wBAAwB,EAAEC,2BAA2B,CAAC,GAAGF,QAAQ,CAAC,EAAE,CAAC;EAC5E,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAGJ,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;;EAEzD,MAAMK,iBAAiB,GAAIC,WAAW,IAAK;IACzC,IAAIH,WAAW,KAAK,OAAO,EAAE;MAC3B,IAAIL,oBAAoB,CAACS,QAAQ,CAACD,WAAW,CAAC,EAAE;QAC9CP,uBAAuB,CAACD,oBAAoB,CAACU,MAAM,CAACC,KAAK,IAAIA,KAAK,KAAKH,WAAW,CAAC,CAAC;MACtF,CAAC,MAAM;QACLP,uBAAuB,CAAC,CAAC,GAAGD,oBAAoB,EAAEQ,WAAW,CAAC,CAAC;MACjE;IACF,CAAC,MAAM,IAAIH,WAAW,KAAK,WAAW,EAAE;MACtC,IAAIF,wBAAwB,CAACM,QAAQ,CAACD,WAAW,CAAC,EAAE;QAClDJ,2BAA2B,CAACD,wBAAwB,CAACO,MAAM,CAACC,KAAK,IAAIA,KAAK,KAAKH,WAAW,CAAC,CAAC;MAC9F,CAAC,MAAM;QACLJ,2BAA2B,CAAC,CAAC,GAAGD,wBAAwB,EAAEK,WAAW,CAAC,CAAC;MACzE;IACF;EACF,CAAC;EAED,MAAMI,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIC,eAAe;IACnB,IAAIR,WAAW,KAAK,OAAO,EAAE;MAC3BQ,eAAe,GAAGb,oBAAoB;IACxC,CAAC,MAAM,IAAIK,WAAW,KAAK,WAAW,EAAE;MACtCQ,eAAe,GAAGV,wBAAwB;IAC5C;IAEA,IAAIU,eAAe,CAACC,MAAM,GAAG,CAAC,EAAE;MAC9BpB,mBAAmB,CAACmB,eAAe,EAAER,WAAW,CAAC,CAAC,CAAC;MACnDT,QAAQ,CAAE,SAAQE,OAAQ,EAAC,CAAC;IAC9B,CAAC,MAAM;MACLiB,KAAK,CAAC,oCAAoC,CAAC;IAC7C;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAIC,IAAI,IAAK;IACjCX,cAAc,CAACW,IAAI,CAAC;EACtB,CAAC;EAED,oBACEC,OAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BF,OAAA;MAAAE,QAAA,EAAI;IAAc;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvBN,OAAA;MAAQO,OAAO,EAAEA,CAAA,KAAMT,gBAAgB,CAAC,OAAO,CAAE;MAAAI,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACvEN,OAAA;MAAQO,OAAO,EAAEA,CAAA,KAAMT,gBAAgB,CAAC,WAAW,CAAE;MAAAI,QAAA,EAAC;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAChFN,OAAA,CAACQ,YAAY;MACXjC,aAAa,EAAEA,aAAc;MAC7BoB,eAAe,EACbR,WAAW,KAAK,OAAO,GAAGL,oBAAoB,GAAGG,wBAClD;MACDwB,aAAa,EAAEpB;IAAkB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,eACFN,OAAA;MACEC,SAAS,EAAC,eAAe;MACzBS,QAAQ,EACLvB,WAAW,KAAK,OAAO,IAAIL,oBAAoB,CAACc,MAAM,KAAK,CAAC,IAC5DT,WAAW,KAAK,WAAW,IAAIF,wBAAwB,CAACW,MAAM,KAAK,CACrE;MACDW,OAAO,EAAEb,YAAa;MAAAQ,QAAA,EACvB;IAED;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC7B,EAAA,CArEIH,cAAc;AAAAqC,EAAA,GAAdrC,cAAc;AAuEpB,eAAeA,cAAc;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}