{"ast":null,"code":"import _regeneratorRuntime from\"/root/Projects/linecheck/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/root/Projects/linecheck/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/root/Projects/linecheck/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import HomePage from\"./pages/HomePage\";import UploadPage from\"./pages/UploadPage\";import AnalysisPage from\"./pages/AnalysisPage\";import DataDisplay from\"./components/DataDisplay\";import Header from\"./components/Header\";import{getFirstFrameUrl,generateVideoId,sendGridSelection}from\"./utils/mockApiUtils\";// Import the necessary utility functions\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),firstFrameUrl=_useState2[0],setFirstFrameUrl=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),videoId=_useState4[0],setVideoId=_useState4[1];// Initialize videoId as an empty string\nuseEffect(function(){// Fetch the first frame URL and video ID when the component mounts\nfetchFirstFrameData();},[]);var fetchFirstFrameData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getFirstFrameUrl(videoId);case 3:response=_context.sent;// Set the first frame URL and video ID in state\nsetFirstFrameUrl(response.url);setVideoId(response.videoId);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching first frame data:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchFirstFrameData(){return _ref.apply(this,arguments);};}();var handleGridSelection=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(selectedRegions){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return sendGridSelection(videoId,selectedRegions);case 3:response=_context2.sent;if(response.success){alert('Selection submitted successfully!');}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error(\"Error sending grid selection:\",_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function handleGridSelection(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/upload\",element:/*#__PURE__*/_jsx(UploadPage,{setVideoId:setVideoId})}),/*#__PURE__*/_jsx(Route,{path:\"/analysis\",element:/*#__PURE__*/_jsx(AnalysisPage,{firstFrameUrl:firstFrameUrl})}),/*#__PURE__*/_jsx(Route,{path:\"/analysis/:videoId\",element:/*#__PURE__*/_jsx(AnalysisPage,{firstFrameUrl:firstFrameUrl,handleGridSelection:handleGridSelection})}),/*#__PURE__*/_jsx(Route,{path:\"/data/:videoId\",element:/*#__PURE__*/_jsx(DataDisplay,{videoId:videoId})// Pass the generated video ID to DataDisplay\n})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","HomePage","UploadPage","AnalysisPage","DataDisplay","Header","getFirstFrameUrl","generateVideoId","sendGridSelection","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","firstFrameUrl","setFirstFrameUrl","_useState3","_useState4","videoId","setVideoId","fetchFirstFrameData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","url","t0","console","error","stop","apply","arguments","handleGridSelection","_ref2","_callee2","selectedRegions","_callee2$","_context2","success","alert","_x","children","className","path","element"],"sources":["/root/Projects/linecheck/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport HomePage from \"./pages/HomePage\";\nimport UploadPage from \"./pages/UploadPage\";\nimport AnalysisPage from \"./pages/AnalysisPage\";\nimport DataDisplay from \"./components/DataDisplay\";\nimport Header from \"./components/Header\";\nimport { getFirstFrameUrl, generateVideoId, sendGridSelection } from \"./utils/mockApiUtils\"; // Import the necessary utility functions\n\nfunction App() {\n  const [firstFrameUrl, setFirstFrameUrl] = useState(null);\n  const [videoId, setVideoId] = useState(\"\"); // Initialize videoId as an empty string\n\n  useEffect(() => {\n    // Fetch the first frame URL and video ID when the component mounts\n    fetchFirstFrameData();\n  }, []);\n\n  const fetchFirstFrameData = async () => {\n    try {\n      // Simulate fetching data from the API\n      const response = await getFirstFrameUrl(videoId);\n\n      // Set the first frame URL and video ID in state\n      setFirstFrameUrl(response.url);\n      setVideoId(response.videoId);\n    } catch (error) {\n      console.error(\"Error fetching first frame data:\", error);\n    }\n  };\n\n  const handleGridSelection = async (selectedRegions) => {\n    try {\n      // Send grid selection to the backend\n      const response = await sendGridSelection(videoId, selectedRegions);\n      if (response.success) {\n        alert('Selection submitted successfully!');\n      }\n    } catch (error) {\n      console.error(\"Error sending grid selection:\", error);\n    }\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"/upload\" element={<UploadPage setVideoId={setVideoId}/>} />\n          <Route\n            path=\"/analysis\"\n            element={<AnalysisPage firstFrameUrl={firstFrameUrl} />}\n          />\n          <Route\n            path=\"/analysis/:videoId\"\n            element={\n              <AnalysisPage\n                firstFrameUrl={firstFrameUrl}\n                handleGridSelection={handleGridSelection}\n              />\n            }\n          />\n          <Route\n            path=\"/data/:videoId\"\n            element={<DataDisplay videoId={videoId} />} // Pass the generated video ID to DataDisplay\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}